alertmanager:
  enabled: true

server:
  global:
    scrape_interval: 15s
  retention: "15d"
  resources:
    requests:
      memory: 512Mi
      cpu: 250m
    limits:
      memory: 1Gi
      cpu: 500m
  extraScrapeConfigs:
    - job_name: 'istio-sidecars'
      kubernetes_sd_configs:
        - role: pod
      relabel_configs:
        - source_labels: [__meta_kubernetes_pod_container_port_name]
          action: keep
          regex: "http-envoy-prom"
        - source_labels: [__meta_kubernetes_namespace]
          target_label: namespace
        - source_labels: [__meta_kubernetes_pod_name]
          target_label: pod


service:
  type: ClusterIP

serviceAccount:
  create: true
  name: prometheus-sa